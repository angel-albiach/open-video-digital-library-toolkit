%li.delete
  .property-type.display-edit
    .display{ error_class(pt) }
      = pt.name
      %span.edit= link_to "edit", "#"
    .edit{ error_class(pt) }
      - fields_for "property_type[#{type_id(pt)}]", pt do |fields|
        %label
          Type:
          = fields.text_field :name, :id => "id_#{rand(32768)}"
        %span.delete= link_to "delete", "#"
        = error_messages_for 'property_type', :object => pt
        = fields.hidden_field :property_class_id, :id => "id_#{rand(32768)}"
        = hidden_field_tag "property_type[#{type_id(pt)}][deleted]", |
                             false, :id => nil, :class => :deleted |
